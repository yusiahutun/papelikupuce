<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>A Mobile-Only Grid Chris Coyier -</title><meta name=robots content="index,follow,noarchive"><meta name=description content="Check out this layout I wanted to pull off on the current design of this site: See how just the first two boxes in the “sidebar” of the homepage are set side-by-side on narrow (mobile) layouts. One way I could have done that is to target the sidebar, and turn it into a grid at that size so I could do the layout I wanted to with the first two boxes, then make sure all the rest of the boxes fill the width."><meta name=author content="Aldo Pusey"><link rel="preload stylesheet" as=style href=https://assets.cdnweb.info/hugo/paper/css/app.css><link rel="preload stylesheet" as=style href=https://assets.cdnweb.info/hugo/paper/css/an-old-hope.min.css><script defer src=https://assets.cdnweb.info/hugo/paper/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=./theme.png><link rel=icon href=./favicon.ico><link rel=apple-touch-icon href=./apple-touch-icon.png><meta name=generator content="Hugo 0.98.0"><meta property="og:title" content="A Mobile-Only Grid  Chris Coyier"><meta property="og:description" content="Check out this layout I wanted to pull off on the current design of this site: See how just the first two boxes in the sidebar of the homepage are set side-by-side on narrow (mobile) layouts. One way I could have done that is to target the sidebar, and turn it into a grid at"><meta property="og:type" content="article"><meta property="og:url" content="/a-mobile-only-grid.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-05-18T00:00:00+00:00"><meta property="article:modified_time" content="2024-05-18T00:00:00+00:00"><meta itemprop=name content="A Mobile-Only Grid  Chris Coyier"><meta itemprop=description content="Check out this layout I wanted to pull off on the current design of this site: See how just the first two boxes in the sidebar of the homepage are set side-by-side on narrow (mobile) layouts. One way I could have done that is to target the sidebar, and turn it into a grid at"><meta itemprop=datePublished content="2024-05-18T00:00:00+00:00"><meta itemprop=dateModified content="2024-05-18T00:00:00+00:00"><meta itemprop=wordCount content="659"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="A Mobile-Only Grid  Chris Coyier"><meta name=twitter:description content="Check out this layout I wanted to pull off on the current design of this site: See how just the first two boxes in the sidebar of the homepage are set side-by-side on narrow (mobile) layouts. One way I could have done that is to target the sidebar, and turn it into a grid at"></head><body class=not-ready data-menu=true><header class=header><p class=logo><a class=site-name href=./index.html>MoxDash</a><a class=btn-dark></a></p><script>let bodyClx=document.body.classList,btnDark=document.querySelector(".btn-dark"),sysDark=window.matchMedia("(prefers-color-scheme: dark)"),darkVal=localStorage.getItem("dark"),setDark=e=>{bodyClx[e?"add":"remove"]("dark"),localStorage.setItem("dark",e?"yes":"no")};setDark(darkVal?darkVal==="yes":sysDark.matches),requestAnimationFrame(()=>bodyClx.remove("not-ready")),btnDark.addEventListener("click",()=>setDark(!bodyClx.contains("dark"))),sysDark.addEventListener("change",e=>setDark(e.matches))</script><nav class=menu><a href=./sitemap.xml>Sitemap</a></nav></header><main class=main><article class=post-single><header class=post-title><p><time>May 18, 2024</time>
<span>Aldo Pusey</span></p><h1>A Mobile-Only Grid Chris Coyier</h1></header><section class=post-content><p>Check out this layout I wanted to pull off on the current design of this site:</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/09/Screenshot-2023-09-22-at-1.15.52-PM.png><p>See how just the first two boxes in the “sidebar” of the homepage are set side-by-side on narrow (mobile) layouts.</p><p>One way I could have done that is to target the sidebar, and turn it into a grid at that size so I could do the layout I wanted to with the first two boxes, then make sure all the rest of the boxes fill the width.</p><pre class=wp-block-code aria-describedby=shcb-language-1 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-tag>aside</span> { ... @media (<span class=hljs-attribute>max-width</span>: <span class=hljs-number>750px</span>) { display: grid; <span class=hljs-attribute>gap</span>: <span class=hljs-number>1rem</span>; <span class=hljs-attribute>grid-template-columns</span>: <span class=hljs-number>1</span>fr <span class=hljs-number>2</span>fr; <span class=hljs-attribute>.box</span>:<span class=hljs-built_in>nth-child</span>(n + <span class=hljs-number>3</span>) { grid-column: <span class=hljs-number>1</span> / -<span class=hljs-number>1</span>; } } }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>But. I didn’t do it like that.</p><p>Something makes my brain go: Why involve all the rest of the boxes in this little scheme of yours? They are innocent bystanders.</p><p>So to isolate the functionality, I wrap the first two boxes in another div I can target.</p><pre class=wp-block-code aria-describedby=shcb-language-2 data-shcb-language-name="HTML, XML" data-shcb-language-slug=xml><span><code class="hljs language-xml"><span class=hljs-tag>&lt;<span class=hljs-name>aside</span>&gt;</span> <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"mobile-grid"</span>&gt;</span> <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"box"</span>&gt;</span>1<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span> <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"box"</span>&gt;</span>2<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span> <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span> <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"box"</span>&gt;</span>3<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span> <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"box"</span>&gt;</span>4<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span> <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"box"</span>&gt;</span>5<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span> <span class=hljs-tag>&lt;/<span class=hljs-name>aside</span>&gt;</span></code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>HTML, XML</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>xml</span><span class=shcb-language__paren>)</span></pre><p>Even with that, I could have the <code>mobile-grid</code> be a <code>grid</code> with a single column, then change to the multi-column setup at the narrow breakpoint (probably should be a container query honestly).</p><p>But. I didn’t do that either. I did this:</p><pre class=wp-block-code aria-describedby=shcb-language-3 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.mobile-grid</span> { <span class=hljs-attribute>display</span>: contents; @media (<span class=hljs-attribute>max-width</span>: <span class=hljs-number>750px</span>) { display: grid; <span class=hljs-attribute>grid-template-columns</span>: <span class=hljs-number>1</span>fr <span class=hljs-number>1</span>fr; <span class=hljs-attribute>gap</span>: <span class=hljs-number>1rem</span>; } }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>That <code>display: contents;</code> bit says: pretend like this element doesn’t even exist and move all the children up one level in the DOM.</p><p>I’m still using a breakpoint, but I can focus the styling to be like this only matters when this element “kicks in”. I like that approach, as it isolates functionality to the relevant elements.</p><p>HUGE WARNING.</p><p>Using <code>display: contents;</code> has a bad accessibility history. I’ve mentioned this before, but accessibility expert Eric Bailey has straight up said: <a href=#><code>display: contents</code>&nbsp;considered harmful</a> and means it:</p><p>I now view the declaration as predictably unpredictable. The common response of “just test its support with assistive technology” does not apply here, either—there is a non-trivial chance that desirable behavior for the declaration in a current browser version isn’t guaranteed to persist for future versions of that browser.</p><p>To reiterate the severity at play here:&nbsp;<code>display: contents</code>’ behavior is akin to the links you use on your website or web app one day losing the ability to work because you applied CSS to them. This loss of ability comes without warning, and there’s no console error or visual indication that things are amiss.</p><p>Part of why I wanted to play with this is because I saw that <a href=#>Safari 17 has shipped</a> (on desktop next week), and I count twelve fixes for <code>display: contents</code> in the note. Now Safari is just one browser, and the fixes in bleeding edge version don’t make this a solved problem. I made the decision to use it because:</p><li>I consider this low-stakes. I’m not messing with lists, tables, or any important interactive elements. There are a few <code>&lt;a></code> links inside, and if they were rendered as “just text” that would be broken, but I don’t think that’s the case right now after looking at the accessibility tree (<a href=#>Chrome</a>, <a href=#>Firefox</a>).</li><li>I don’t want to give up on a useful part of the web platform because it had a shitty start. I’ll use it, I’ll be careful about it so I’m not ruining anyone’s day, and I’ll incentivize browser makers to fix it and keep it fixed.</li><p>As a general best practice for now, I’d agree with “don’t use it” for now. I showed an approach to making this work that’s perfectly fine first.</p><p>Also, here’s that approach converted to container queries instead:</p><pre class=wp-block-code aria-describedby=shcb-language-4 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-tag>aside</span> { ... <span class=hljs-attribute>container</span>: aside / inline-size; .mobile-grid { @container aside (<span class=hljs-attribute>max-width</span>: <span class=hljs-number>300px</span>) { display: grid; <span class=hljs-attribute>gap</span>: <span class=hljs-number>1rem</span>; <span class=hljs-attribute>grid-template-columns</span>: <span class=hljs-number>1</span>fr <span class=hljs-number>2</span>fr; } } }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>Feel free to smurf around with <a href=#>this reduced test case</a>.</p><p><h3 class=jp-relatedposts-headline>Related</h3></p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmibmKe2tK%2FOsqCeql6jsrV7kWlpbGdgbnxzfo6aZKankp65pnnOp6OyZZentqV7</p></section><nav class=post-nav><a class=prev href=./who-is-freddie-heerdegen-and-why-does-he-still-sleep-with-his-mother.html><span>←</span><span>Who Is Freddie Heerdegen and Why Does He Still Sleep With His Mother?</span></a>
<a class=next href=./the-real-housewives-of-atlanta.html><span>The Real Housewives of Atlanta: Latest news and episodes</span><span>→</span></a></nav></article></main><footer class=footer><p>&copy; 2024 <a href=./></a></p><p>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️</p></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>